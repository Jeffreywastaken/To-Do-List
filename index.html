<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>T O D O</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@latest/dist/tailwind.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" integrity="sha384-Zg538z6vquBZJZSp4Zgo+D0sh4jP0S3x5/WBNOOe11B8S+ojY5Zbew9vFzXJn2e" crossorigin="anonymous">


</head>
<style>
  body {
    font-size: 18px;
    font-family: "Josefin Sans", sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin: 0; /* Remove default margin */
  }

  .background-color {
    flex: 1;
    width: 100%;
    background-color: hsl(235, 21%, 11%);
    display: flex;
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: relative;
  }

  .background-image {
    height: 40vh;
    width: 100%;
    background: url('./bg-dark.jpg') top / cover no-repeat;
    position: absolute;
    top: 0;
  }

  .task-input {
    background-color: #1a202c;
  }

  .task-list-item {
    color: #333333;
  }

  .notification {
    background-color: #1a202c;
    color: #ffffff;
    padding: 10px;
    margin-top: 10px;
    border-radius: 5px;
    text-align: center;
  }

  .round-checkbox {
    appearance: none;
    border: 2px solid #6b7280;
    border-radius: 50%;
    width: 1.5em;
    height: 1.5em;
    cursor: pointer;
    outline: none;

    /* Transition for smooth effect */
    transition: background 0.3s ease-in-out;
  }

  /* Change background color when checkbox is checked */
  .round-checkbox:checked {
    background: linear-gradient(to right,hsl(192, 100%, 67%) , hsl(280, 87%, 65%));;
  }

  .checkmark-image {
    display: none;
    width: 1.5em;
    height: 1.5em;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .task-filter {
    margin-top: 20px;
    display: flex;
    justify-content: space-between;
  }

  .filter-button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    color: #6b7280;
    font-size: 16px;
  }

  .filter-button:hover {
    text-decoration: underline;
  }

  .active-filter {
    color: #ffffff; 
  }

  .clear-completed {
    color: #6b7280;
    font-size: 16px;
    cursor: pointer;
  }

  .clear-completed:hover {
    text-decoration: underline;
  }

  .fade-in {
    opacity: 0;
    animation: fadeIn 0.5s ease-in-out forwards;
  }

  .fade-out {
    opacity: 1;
    animation: fadeOut 0.5s ease-in-out forwards;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
  }

</style>

<body class="font-sans text-white">
  <div class="background-color">
    <div class="background-image"></div>
    <div class="w-full max-w-md p-6 bg-gray-800 rounded-md shadow-lg relative z-10 animate__animated animate__fadeIn" >
      <h2 class="text-3xl font-bold mb-6">T O D O</h2>
      <input type="text" id="taskInput" class="w-full p-4 border border-gray-300 rounded-md mb-4 task-input" placeholder="Enter your task" onkeydown="if(event.key === 'Enter') addTask()">
      <button class="w-full p-4 bg-green-500 text-white rounded-md cursor-pointer mb-4" onclick="addTask()">Add Task</button>
      <ul id="taskList" class="list-none p-0"></ul>

      <div class="task-filter">
        <button class="filter-button" onclick="filterTasks('all')">All</button>
        <button class="filter-button" onclick="filterTasks('active')">Active</button>
        <button class="filter-button" onclick="filterTasks('completed')">Completed</button>
        <button class="clear-completed" onclick="clearCompleted()">Clear Completed</button>
      </div>
    </div>
  </div>

  <script>
    function addTask() {
      var taskInput = document.getElementById("taskInput");
      var taskList = document.getElementById("taskList");

      if (taskInput.value.trim() === "") {
        alert("Please enter a task!");
        return;
      }


      var newTask = document.createElement("li");
      newTask.className = "flex items-center justify-between px-4 py-2 mb-4 bg-gray border rounded shadow";

      // Create checkbox
      var checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.className = "mr-2 round-checkbox";
      checkbox.onchange = function () {
        if (checkbox.checked) {
          checkmarkImage.style.display = "inline-block";
        } else {
          checkmarkImage.style.display = "none";
        }
      };

      // Create task content
      var taskContent = document.createElement("p");
      taskContent.className = "flex-1 text-gray-100 line-through-none";
      taskContent.textContent = taskInput.value;

      // Create delete button
      var deleteButton = document.createElement("button");
      deleteButton.type = "button";
      deleteButton.className = "ml-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none focus:ring focus:border-blue-500";
      deleteButton.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      `;
      deleteButton.onclick = function () {
        taskList.removeChild(newTask);
      };

// Create checkbox label
var checkboxLabel = document.createElement("label");
checkboxLabel.style.position = "relative";

// Create checkmark image
var checkmarkImage = document.createElement("img");
checkmarkImage.src = "./icon-check.svg";
checkmarkImage.alt = "Checkmark";
checkmarkImage.className = "checkmark-image";

// Append checkbox and checkmark image to the label
checkboxLabel.appendChild(checkbox);
checkboxLabel.appendChild(checkmarkImage);

// Append checkbox label, task content, and delete button to new task
newTask.appendChild(checkboxLabel);
newTask.appendChild(taskContent);
newTask.appendChild(deleteButton);

      // Toggle line-through effect when the checkbox is checked
      checkbox.addEventListener("change", function () {
        taskContent.style.textDecoration = checkbox.checked ? "line-through" : "none";
      });

      // Append the new task to the task list
      taskList.appendChild(newTask);

      // Clear input value
      taskInput.value = "";

        // Add fade-in animation to the new task
  newTask.classList.add("fade-in");

// Set a timeout to remove the fade-in class after the animation completes
setTimeout(() => {
  newTask.classList.remove("fade-in");
}, 500);

      filterTasks('all');
    }
    function filterTasks(filterType) {
      var taskList = document.getElementById("taskList");
      var tasks = taskList.getElementsByTagName("li");

      for (var i = 0; i < tasks.length; i++) {
        var task = tasks[i];
        var checkbox = task.querySelector(".round-checkbox");

        switch (filterType) {
          case 'all':
            task.style.display = "flex";
            break;
          case 'active':
            task.style.display = checkbox.checked ? "none" : "flex";
            break;
          case 'completed':
            task.style.display = checkbox.checked ? "flex" : "none";
            break;
        }
      }

      // Remove the active-filter class from all buttons
      var filterButtons = document.querySelectorAll(".filter-button");
      filterButtons.forEach(button => button.classList.remove("active-filter"));

      // Add the active-filter class to the clicked buttton
      event.target.classList.add("active-filter");
    }

    function clearCompleted() {
      var taskList = document.getElementById("taskList");
      var tasks = taskList.getElementsByTagName("li");

      for (var i = tasks.length - 1; i >= 0; i--) {
        var task = tasks[i];
        var checkbox = task.querySelector(".round-checkbox");

        if (checkbox.checked) {
          task.classList.add("fade-out");
          taskList.removeChild(task);
        }
      }
    }
  </script>

</body>
</html>
